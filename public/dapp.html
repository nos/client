<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
  </head>

  <body>
    <h1>DApp Example</h1>
    <p>
      Click the buttons below to show info related to the currently authenticated NEO address.
    </p>
    <p>
      <button type="button" onClick="javascript:getAddress()">Get Address</button>
      <button type="button" onClick="javascript:getBalance()">Get NEO Balance</button>
      <button type="button" onClick="javascript:testInvoke()">Execute test invoke</button>
    </p>
    <p>
      Click the buttons below to access functions that don't require permissions.
    </p>
    <p>
      <button type="button" onClick="javascript:getAddress()">Testinvoke</button>
      <button type="button" onClick="javascript:getBalance()">Get From Storage</button>
    </p>
    <script type="text/javascript">
      const api = window.NOS.V1;

      function getAddress() {
        api.getAddress()
          .then((address) => alert(`Address: ${address}`))
          .catch((err) => alert(`Error: ${err.message}`));
      }

      function getBalance() {
        api.getBalance()
          .then((balance) => alert(`Balance: ${balance} NEO`))
          .catch((err) => alert(`Error: ${err.message}`));
      }

      function testInvoke() {
        api.testInvoke()
          .then((response) => alert(`Test invoke response: ${response} `))
          .catch((err) => alert(`Error: ${err.message}`));
      }
    </script>
  </body>
</html>
